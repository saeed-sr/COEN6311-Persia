{% extends 'packages/base.html' %}

{% block title %}
Activity List
{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1 class="mb-4">Activity List</h1>
    {% load render_table from django_tables2 %}
    {% render_table table %}
</div>

<script>
    // Add JavaScript to make the table headers clickable for sorting
    document.addEventListener('DOMContentLoaded', function () {
        document.querySelectorAll('th.sorted').forEach(header => {
            header.addEventListener('click', () => {
                const order = header.classList.contains('ascending') ? 'desc' : 'asc';
                const url = "{% url 'activity-list' %}" + `?sort=${header.dataset.sort}&order=${order}`;
                window.location.href = url;
            });
        });
    });
</script>
{% endblock %}
